<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rezervacije</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="stylesheet" href="assets/style.css?v=5" />
  </head>
  <body class="reservation-page">
    <nav class="navbar">
      <ul>
        <li><a href="index.html">Naslovna</a></li>
        <li><a href="Cjenik_index.html">Cjenik</a></li>
        <li><a href="Galerija_index.html">Galerija</a></li>
        <li><a href="Rezervacije_index.html">Rezervacije</a></li>
      </ul>
    </nav>

    <main class="reservation-container">
      <section class="step step-date">
        <label for="res-date">Odaberite datum:</label>
        <input
          type="text"
          id="res-date"
          name="Datum rezervacije"
          placeholder="Kliknite za odabir datuma"
          readonly
        />
      </section>

      <!-- Netlify forma -->
      <form
        name="reservation"
        id="res-form"
        method="POST"
        data-netlify="true"
        netlify-honeypot="bot-field"
        class="step step-form"
      >
        <!-- Netlify identifikator forme -->
        <input type="hidden" name="form-name" value="reservation" />

        <p class="hidden" style="display: none">
          <label
            >Ne popunjavajte ovo polje ako ste čovjek:
            <input name="bot-field" />
          </label>
        </p>

        <h2>Detalji rezervacije:</h2>

        <div class="field-group">
          <label for="res-lastname">Prezime:</label>
          <input type="text" id="res-lastname" name="Prezime" required />
        </div>

        <div class="field-group">
          <label for="res-firstname">Ime:</label>
          <input type="text" id="res-firstname" name="Ime" required />
        </div>

        <div class="field-group guests-group">
          <label>Broj gostiju:</label>
          <button
            type="button"
            id="minus-guest"
            aria-label="Smanji broj gostiju"
          >
            –
          </button>
          <input
            type="number"
            id="res-guests"
            name="Broj gostiju"
            value="1"
            min="1"
            readonly
          />
          <button
            type="button"
            id="plus-guest"
            aria-label="Povećaj broj gostiju"
          >
            +
          </button>
        </div>

        <div class="field-group">
          <label for="res-drink">Vrsta pića:</label>
          <select id="res-drink" name="Vrsta pića" required>
            <option value="" disabled selected>Odaberite...</option>
            <option>pelin-cola</option>
            <option>jeger-cola</option>
            <option>jack-cola</option>
            <option>ostalo</option>
          </select>
        </div>

        <div class="field-group">
          <label for="res-email">Email adresa:</label>
          <input type="email" id="res-email" name="Email" required />
        </div>

        <button type="submit" id="res-submit">Pošalji rezervaciju</button>
      </form>
    </main>

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- Centralni JS -->
    <script src="assets/script.js?v=5"></script>

    <!-- Inicijalizacija Flatpickra + +/− gumbi -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const dateInput = document.getElementById("res-date");
        if (dateInput) {
          flatpickr(dateInput, {
            dateFormat: "d.m.Y.",
            minDate: "today",
            locale: "hr",
            disableMobile: false,
          });
        }

        const minus = document.getElementById("minus-guest");
        const plus = document.getElementById("plus-guest");
        const guests = document.getElementById("res-guests");
        if (minus && plus && guests) {
          minus.addEventListener("click", () => {
            const val = Math.max(1, parseInt(guests.value || "1", 10) - 1);
            guests.value = String(val);
          });
          plus.addEventListener("click", () => {
            const val = Math.max(1, parseInt(guests.value || "1", 10) + 1);
            guests.value = String(val);
          });
        }
      });
    </script>
  </body>
</html>
